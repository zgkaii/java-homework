# 作业6

**题目描述**：基于电商交易场景（用户、商品、订单），设计一套简单的表结构，提交 DDL 的 SQL 文件到 Github（后面 2 周的作业依然要是用到这个表结构）。

------

## 用户模块

用户信息表：

```mysql
DROP TABLE IF EXISTS users;
CREATE TABLE users (
	userid      int(10) UNSIGNED ZEROFILL NOT NULL AUTO_INCREMENT COMMENT '用户ID',
    username    varchar(10) NOT NULL COMMENT '用户名',
    nickname    varchar(10) COMMENT '用户昵称',
    password    varchar(16) NOT NULL COMMENT '密码',
    telephone   varchar(11) NOT NULL COMMENT '电话',
    sex		    varchar(2) NOT NULL COMMENT '性别',
    birthday    datetime NOT NULL COMMENT '生日',
    email       varchar(20) NOT NULL COMMENT '邮箱',
    address     varchar(30) NOT NULL COMMENT '收货地址',
    PRIMARY KEY (userid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
INSERT INTO users(userid,username,nickname,password,telephone,sex,birthday,email,address) VALUES 
    (12,'张','张三','1234','12345678911','男生','1998-12-12','test@qq.com','上海')
    , (23,'王','王五','4321','98765432111','男生','2000-12-12','test1@qq.com','北京')
    , (1223,'蔡','菜菜','5642','23456789121','女生','1994-12-12','test2@qq.com','深圳');
```

收货信息表：

```mysql
DROP TABLE IF EXISTS shopping;
CREATE TABLE shopping (
  shoppingid    varchar(64) NOT NULL,
  userid        varchar(64) NOT NULL COMMENT '用户id',
  orderid       varchar(64) NOT NULL COMMENT '订单id',
  receivername  varchar(20) NOT NULL COMMENT '收货姓名',
  receiverphone varchar(20) NOT NULL COMMENT '收货人电话',
  receiverprovince  varchar(20) NOT NULL COMMENT '省份',
  receivercity      varchar(20) NOT NULL COMMENT '城市',
  receiverdistrict  varchar(20) NOT NULL COMMENT '区/县',
  receiveraddress   varchar(200) NOT NULL COMMENT '详细地址',
  createtime datetime NOT NULL,
  updatetime datetime NOT NULL,
  PRIMARY KEY (shoppingid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;

INSERT INTO shopping(shoppingid,userid,orderid,receivername,receiverphone,receiverprovince,receivercity,receiverdistrict,receiveraddress,createtime,updatetime) VALUES 
    (1234,12,888888,'张','12345678911','上海','上海','浦东区','xxxx','2021-12-12','2020-12-12')
    , (2234,23,1234555,'王','98765432111','北京','北京','海淀区','xxxx','2021-11-13','2020-11-13');
```

## 订单模块

订单表：

```mysql
DROP TABLE IF EXISTS orders;
CREATE TABLE orders (
  orderid     varchar(64) NOT NULL COMMENT '订单id',
  userid 	    varchar(64) NOT NULL COMMENT '用户id',
  payment     decimal(20,2) NOT NULL COMMENT '实际付款金额',
  paymenttype int(4) NOT NULL COMMENT '支付类型,1-全额支付,2-分期支付',
  postage 	int(10) NOT NULL COMMENT '运费',
  status 		int(10) NOT NULL COMMENT '订单状态',
  paymenttime datetime NOT NULL COMMENT '支付时间',
  sendtime 	datetime NOT NULL COMMENT '发货时间',
  endtime 	datetime NOT NULL COMMENT '交易完成时间',
  closetime 	datetime NOT NULL COMMENT '交易关闭时间',
  createtime 	datetime NOT NULL COMMENT '创建时间',
  updatetime 	datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (orderid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

订单明细表：

```mysql
DROP TABLE IF EXISTS orderitem;
CREATE TABLE orderitem (
  id varchar(64) NOT NULL COMMENT '订单子表id',
  orderid varchar(64) NOT NULL COMMENT '订单id',
  userid varchar(64) NOT NULL COMMENT '用户id',
  proid varchar(64) NOT NULL COMMENT '商品id',
  proname varchar(100) NOT NULL COMMENT '商品名称',
  currentunitprice decimal(20,2) NOT NULL COMMENT '商品单价',
  quantity int(10) NOT NULL COMMENT '商品数量',
  totalprice decimal(20,2) NOT NULL COMMENT '商品总价',
  createtime datetime NOT NULL COMMENT '创建时间',
  updatetime datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (id)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

支付信息表：

```mysql
DROP TABLE IF EXISTS payinfo;
CREATE TABLE payinfo (
  payid varchar(64) NOT NULL COMMENT '支付id',
  orderid varchar(64) NOT NULL COMMENT '订单id',
  userid varchar(64) NOT NULL COMMENT '用户表id',
  payplatform int(10) NOT NULL COMMENT '支付平台,1-支付宝 2-微信',
  platformnumber varchar(200) NOT NULL COMMENT '支付流水号',
  platformstatus varchar(20) NOT NULL COMMENT '支付状态',
  createtime datetime NOT NULL COMMENT '创建时间',
  updatetime datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (payid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

## 商品模块

商品表：

```mysql
DROP TABLE IF EXISTS product;
CREATE TABLE product (
  proid varchar(64) NOT NULL COMMENT '商品id',
  cateid varchar(64) NOT NULL COMMENT '类别编号',
  proname varchar(100) NOT NULL COMMENT '商品名称',
  image varchar(500) NOT NULL COMMENT '商品图片',
  detail text COMMENT '商品详情',
  price decimal(20,2) NOT NULL COMMENT '价格',
  stock int(11) NOT NULL COMMENT '库存数量',
  status int(6) DEFAULT '1' COMMENT '商品状态,1-在售 2-下架 3-删除',
  createtime datetime NOT NULL COMMENT '创建时间',
  updatetime datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (proid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

商品类别表：

```mysql
DROP TABLE IF EXISTS category;
CREATE TABLE category (
  cateid varchar(64) NOT NULL COMMENT '类别Id',
  parentid varchar(64) NOT NULL COMMENT '父类别id',
  name varchar(50) NOT NULL COMMENT '类别名称',
  status int(1) DEFAULT '1' COMMENT '类别状态,1-正常 2-已废弃',
  sortorder int(4) NOT NULL COMMENT '排序编号,同类展示顺序 数值相等则自然排序',
  createtime datetime NOT NULL COMMENT '创建时间',
  updatetime datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (cateid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

## 购物车模块

```mysql
DROP TABLE IF EXISTS cart;
CREATE TABLE cart (
  carid varchar(64) NOT NULL COMMENT '购物车编号',
  userid varchar(64) NOT NULL COMMENT '用户表id',
  proid varchar(64) NOT NULL COMMENT '产品编号',
  quantity int(11) NOT NULL COMMENT '产品数量 ',
  checked int(11) NOT NULL COMMENT '是否选择,1=已勾选 0=未勾选',
  createtime datetime NOT NULL COMMENT '创建时间',
  updatetime datetime NOT NULL COMMENT '更新时间',
  PRIMARY KEY (carid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```

## 供应商模块

```mysql
DROP TABLE IF EXISTS supplier;
CREATE TABLE supplier (
  supplierid varchar(64) NOT NULL COMMENT '供应商id',
  suppliername varchar(64) NOT NULL COMMENT '供应商名称',
  renumber varchar(64) NOT NULL COMMENT '供应商注册号',
  proid varchar(64) NOT NULL COMMENT '商品id',
  quantity int(11) NOT NULL COMMENT '商品数量',
  personname varchar(10) NOT NULL COMMENT '供应商姓名',
  personphone int(11) NOT NULL COMMENT '供应商电话',
  PRIMARY KEY (supplierid)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4;
```



